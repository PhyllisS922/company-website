/*
====================================================
COLLABORATION PAGE — ACTIVE WORKING FILE
File: global-collaboration.css

Status:
✅ This is the ONLY file allowed to modify Collaboration page layout
✅ Section spacing, hierarchy, rhythm belong here

Restrictions:
❌ Do NOT override global h1/h2 font-size (unless necessary)
❌ Do NOT use nth-of-type selectors (use class-based selectors instead)
❌ Do NOT affect other pages

Goal:
Maintain Collaboration page structure with clear, maintainable rules.
====================================================
*/

/* ======================================================
   1. CSS VARIABLES
   ====================================================== */

:root {
    /* 品牌色已在 global-brand-system.css 中定义，这里只定义页面特定变量 */
    --border-subtle: var(--border-structural, #e0e0e0);
}

/* ======================================================
   2. TYPOGRAPHY & STRUCTURE INDICATORS
   ====================================================== */

/* H1: 页面主标题 */
body.collaboration h1.accent-title {
    position: relative;
    padding-left: 20px !important;
    margin-bottom: 32px;
}

/* H1 橙色竖线：页面主标题的结构提示 */
body.collaboration h1.accent-title::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0.15em;
    width: 3px;
    height: 1.2em;
    background-color: var(--brand-solid);
    opacity: 0.8;
}

/* H2.section-title: 重要章节标题 */
body.collaboration h2.section-title {
    position: relative;
    padding-left: 20px !important;
    margin-bottom: 32px;
}

/* H2.section-title 橙色竖线 */
body.collaboration h2.section-title::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0.2em;
    width: 3px;
    height: 1em;
    background-color: var(--brand-solid);
    opacity: 0.7;
}

/* ======================================================
   3. SPACING & LAYOUT
   ====================================================== */

/* 模块间距 */
body.collaboration main > .container > section {
    margin-bottom: 80px;
}

/* 段落间距 */
body.collaboration p {
    margin-bottom: 24px;
    line-height: 1.7;
}

body.collaboration p:last-of-type {
    margin-bottom: 0;
}

/* ======================================================
   3. SPACING & LAYOUT
   ====================================================== */

/* "课程的企业级应用" - 2列网格布局，卡片均分宽度 */
/* 使用:nth-of-type(2)匹配第二个section（课程的企业级应用） */
body.collaboration main > .container > section.motion-entrance:nth-of-type(2) .course-scroll-track {
    display: grid !important; /* 改为网格布局 */
    grid-template-columns: repeat(2, 1fr) !important; /* 2列，均分宽度 */
    gap: 24px !important; /* 列间距 */
    padding-top: 16px;
    padding-bottom: 16px;
    position: relative;
    overflow: visible !important; /* 移除横向滚动 */
}

/* 网格卡片：均分宽度，高度由内容决定 */
body.collaboration main > .container > section.motion-entrance:nth-of-type(2) .course-scroll-item {
    padding: 16px 16px 20px !important; /* 内边距保持不变 */
    flex: none !important; /* 移除flex固定宽度 */
    min-width: 0 !important;
    max-width: none !important;
    width: 100% !important; /* 占满网格单元格 */
    height: auto !important; /* 高度自动，由内容决定 */
}

/* ======================================================
   "已发生的合作与实践" - 横向滚动（4个卡片一排）
   ====================================================== */

/* 横向滚动容器：针对system-primary section */
body.collaboration section.system-primary .course-scroll-track {
    display: flex !important;
    flex-direction: row !important;
    overflow-x: auto !important;
    overflow-y: hidden !important;
    gap: 20px !important;
    padding-top: 16px;
    padding-bottom: 16px;
    position: relative;
    /* 滚动条样式 */
    scrollbar-width: thin;
    scrollbar-color: var(--brand-solid, #E65100) var(--border-structural, #e0e0e0);
}

/* 横向滚动卡片：固定宽度280px */
body.collaboration section.system-primary .course-scroll-item {
    flex: 0 0 280px !important;
    min-width: 280px !important;
    max-width: 280px !important;
    padding: 16px 16px 20px !important;
}

/* Webkit 滚动条样式 */
body.collaboration section.system-primary .course-scroll-track::-webkit-scrollbar {
    height: 6px;
}

body.collaboration section.system-primary .course-scroll-track::-webkit-scrollbar-track {
    background: var(--border-structural, #e0e0e0);
    border-radius: 3px;
}

body.collaboration section.system-primary .course-scroll-track::-webkit-scrollbar-thumb {
    background-color: var(--brand-solid, #E65100);
    border-radius: 3px;
    opacity: 0.6;
}

body.collaboration section.system-primary .course-scroll-track::-webkit-scrollbar-thumb:hover {
    opacity: 0.8;
}

/* 滑动提示：在包含滚动区域的 section 右侧添加箭头提示 */
body.collaboration section.system-primary:has(.course-scroll-track) {
    position: relative;
}

body.collaboration section.system-primary:has(.course-scroll-track)::after {
    content: "→";
    position: absolute;
    right: 20px;
    top: calc(16px + 50%); /* 与滚动区域垂直居中 */
    transform: translateY(-50%);
    font-size: 20px;
    color: var(--brand-solid, #E65100);
    opacity: 0.5;
    pointer-events: none;
    z-index: 2;
    font-weight: 300;
}

body.collaboration section.system-primary:has(.course-scroll-track):hover::after {
    opacity: 0.8;
}

/* ======================================================
   3. TYPOGRAPHY - 分别针对两个section
   ====================================================== */

/* "课程的企业级应用" - 卡片文字样式 */
body.collaboration main > .container > section.motion-entrance:nth-of-type(2) .course-scroll-item h3 {
    margin-bottom: 12px;
    line-height: 1.6;
}

body.collaboration main > .container > section.motion-entrance:nth-of-type(2) .course-scroll-item p {
    line-height: 1.6;
    margin-bottom: 0;
}

/* "已发生的合作与实践" - 卡片文字样式 */
body.collaboration section.system-primary .course-scroll-item h3 {
    margin-bottom: 12px;
    line-height: 1.6;
}

body.collaboration section.system-primary .course-scroll-item p {
    line-height: 1.6;
    margin-bottom: 0;
}

/* ======================================================
   4. HORIZONTAL SCROLLING HINTS
   ====================================================== */

/* 注意：滚动条样式已经在各自的section中定义，这里不再需要通用样式 */

/* ======================================================
   5. IMAGES
   ====================================================== */

/* 合作案例图片容器：与活动页面保持一致 */
body.collaboration .event-thumb {
    width: 100%;
    aspect-ratio: 4 / 1.5; /* 与活动页面保持一致 */
    margin-bottom: 12px;
    overflow: hidden;
    background-color: var(--surface-secondary, #f5f5f5);
}

/* 合作案例图片：降存在感，不抢夺文字焦点 */
body.collaboration .event-thumb img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    opacity: 0.85;
    filter: grayscale(20%);
    transition: opacity 0.3s ease, filter 0.3s ease;
}

/* Hover 时稍微增强，但保持克制 */
body.collaboration .course-scroll-item:hover .event-thumb img {
    opacity: 0.95;
    filter: grayscale(10%);
}

/* 隐藏不在 event-thumb 内的图片 */
body.collaboration .course-scroll-item img:not(.event-thumb img) {
    display: none;
}

/* ======================================================
   6. LIST STYLES - 列表样式
   ====================================================== */

/* 删除列表项的所有符号（包括"-"和"·"） */
body.collaboration ul.motion-group-container {
    list-style: none;
    padding-left: 0;
}

body.collaboration ul.motion-group-container li.motion-group-item {
    padding-left: 0;
    margin-bottom: 12px;
}

body.collaboration ul.motion-group-container li.motion-group-item::before {
    display: none; /* 完全移除符号 */
}

body.collaboration ul.motion-group-container li.motion-group-item:last-child {
    margin-bottom: 0;
}

/* ======================================================
   END — Collaboration page structure is now clean
   ====================================================== */

